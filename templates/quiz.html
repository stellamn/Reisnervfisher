{% extends "layout.html" %}

{% block title %}
    QUIZ!
{% endblock %}

{% block main %}

    <div style="height: 140px">
    </div>

    <h2>
        QUIZ!
    </h2>

    <p style="text-align: center">
        Below is a quiz designed to test how well you absorbed the information conveyed by this site!
    </p>
    </div>

    <script>
        let score = 0;
        function calculateScore() {

        // Check multiple-choice questions
            const mcQuestions = document.querySelectorAll('input[type="radio"]:checked');
            mcQuestions.forEach((question) => {
                score += parseInt(question.value);
            });

        // Check written answers (for simplicity, no validation)
            const written1 = document.querySelector('input[name="written1"]').value.toLowerCase();
            const written2 = document.querySelector('input[name="written2"]').value.toLowerCase();
            const written3 = document.querySelector('input[name="written3"]').value.toLowerCase();

            if (written1 === '1917') {
                score += 1;
            }
            if (written2 === '1918') {
                score += 1;
            }
            if (written3 === 'Reisner-Fisher method') {
                score += 1;
            }

        // Display result
            const resultContainer = document.getElementById('result');
            resultContainer.textContent = `Your score is: ${score}/8`;
            return score;
        }

    </script>

    <div class="container">
        <div class="section">
            <h2 style="margin-bottom: 40px; background-color: #F1BF98; padding: 10px">Part 1: Multiple Choice </h2>
            <hr>
            <h4 style="margin-bottom: 20px">Who was Mahmud’s brother?
            </h4>
            <label><input type="radio" name="q1" value="0"> el-Meyyit</label>
            <label><input type="radio" name="q1" value="1"> Said Ahmed</label>
            <label><input type="radio" name="q1" value="0"> Ali Ismain el Harrâs</label>
        </div>

        <div class="section">
            <hr>
            <h4 style="margin-bottom: 20px">What did Fisher say was his reasoning for firing Mahmud?
            </h4>
            <label><input type="radio" name="q2" value="0"> Because he incited a mutiny</label>
            <label><input type="radio" name="q2" value="1"> Because he was insubordinate</label>
            <label><input type="radio" name="q2" value="0"> Because he was too loyal to Reisner
            </label>
        </div>

        <div class="section">
            <hr>
            <h4 style="margin-bottom: 20px">Why did Fisher object to Reisner rehiring Mahmud?
            </h4>
            <label><input type="radio" name="q3" value="0"> Because he thought Mahmud wasn't qualified
            </label>
            <label><input type="radio" name="q3" value="0"> Because he thought Mahmud was a danger to Reisner's expedition</label>
            <label><input type="radio" name="q3" value="1"> Because it would undermine his authority</label>
        </div>

        <div class="section">
            <hr>
            <h4 style="margin-bottom: 20px">Why did Reisner object to Fisher’s objection?
            </h4>
            <label><input type="radio" name="q4" value="0"> Because he did not want to anger Mahmud</label>
            <label><input type="radio" name="q4" value="1"> Because Fisher was being hypocritical</label>
            <label><input type="radio" name="q4" value="1"> Because he didn't want his other workers to grow angry</label>
        </div>

        <div class="section">
            <hr>
            <h4 style="margin-bottom: 20px;">Did Mahmud end up staying with Reisner?
            </h4>
            <label><input type="radio" name="q5" value="1"> No
            </label>
            <label><input type="radio" name="q5" value="0"> Yes</label>
        </div>

        <div class="section" style="margin-top: 30px">
            <h2 style="margin-bottom: 40px; background-color: #F1BF98; padding: 10px">Part 2: Free Response</h2>
            <hr>
            <h4>In what year did the conflict officially begin?
            </h4>
            <input type="text" name="written1">
        </div>

        <div class="section">
            <hr>
            <h4>What year did the conflict conclude?
            </h4>
            <input type="text" name="written2">
        </div>

        <div class="section">
            <hr>
            <h4>What is the name of the archaeological method Reisner and Fisher jointly created?
            </h4>
            <input type="text" name="written3">
        </div>

        <div class="section" style="margin-top: 30px">
            <h2 style="margin-bottom: 40px; background-color: #F1BF98; padding: 10px">SCORE</h2>
            <button type="button" onclick="calculateScore()">Submit</button>
            <div id="result" class="result" style="margin-top:30px"></div>
            <div>{{ score }}</div>
        </div>
    </div>
    </body>

    <br>
    <br>

    <div id="footer">
        <a href="/">Home</a>
        &nbsp;
        <a href="/about">About</a>
        &nbsp;
        <a href="/artifacts">Artifacts</a>
        &nbsp;
        <a href="/analysis">Analysis</a>
        &nbsp;
        <a href="/map">Map!</a>
        &nbsp;
        <a href="/timeline">Timeline</a>

    </div>
{% endblock %}
